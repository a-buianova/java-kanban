# java-kanban

**Repository for a homework project:**  
[https://github.com/a-buianova/java-kanban.git](https://github.com/a-buianova/java-kanban.git)

---

## Реализованные функции

- **Создание задач, эпиков и подзадач:** Возможность создавать объекты разных типов с уникальными идентификаторами.
- **Обновление статусов задач и подзадач:** Поддержка статусов `NEW`, `IN_PROGRESS` и `DONE`. Статус эпика обновляется 
автоматически в зависимости от статусов его подзадач.
- **Удаление задач, эпиков и подзадач:** Возможность удалять объекты по ID. При удалении эпика все его подзадачи также 
удаляются.
- **История задач:** Реализована история без ограничений по размеру, без повторов. Удаление из истории выполняется 
за O(1).
- **Сортировка задач и подзадач по статусу:** Возможность получения задач и подзадач, отсортированных по их статусу.
- **Проверка уникальности ID:** Все задачи, эпики и подзадачи имеют уникальные идентификаторы. Попытка добавить объект 
с уже существующим ID вызывает ошибку.
- **Корректная работа с эпиками:** Эпик не может быть своей собственной подзадачей. Поддерживается автоматическое 
обновление статусов эпиков.
- **Проверка корректности статусов:** Невозможно создать подзадачу с отсутствующим или некорректным статусом.
- **Тестирование функционала:** Покрытие тестами создания, обновления, удаления объектов, работы с историей, проверки 
статусов эпиков и ограничения на дублирование подзадач.

---

## Тестирование

- **Создание задач:** Проверка, что задачи, эпики и подзадачи корректно создаются, добавляются в менеджер и связываются 
между собой.
- **Обновление статусов:** Проверка автоматического обновления статусов эпиков в зависимости от статусов их подзадач.
- **Удаление объектов:** Проверка корректного удаления задач, эпиков и подзадач, включая удаление подзадач при удалении 
эпика.
- **История задач:** Тесты на добавление задач в историю, удаление задач из истории при их удалении из менеджера, 
отсутствие повторов в истории.
- **Проверка уникальности ID:** Тесты предотвращают добавление объектов с дублирующими ID.
- **Обработка некорректных данных:** Проверка выброса ошибок при попытке создать подзадачу с некорректным ID эпика или 
отсутствующим статусом.
- **Полиморфизм и наследование:** Проверка корректной работы классов `Task`, `Epic` и `SubTask` с учетом их иерархии.

---

## Как организована программа

1. **Класс `Task`:** Базовый класс для задач. Содержит поля: `id`, `title`, `description`, `status`. Используется как 
основа для подзадач и эпиков.

2. **Класс `Epic`:** Наследуется от `Task`. Может содержать подзадачи, автоматически обновляет свой статус в зависимости 
от статусов подзадач.

3. **Класс `SubTask`:** Наследуется от `Task`. Привязан к определенному эпику, поддерживает проверку корректности связей.

4. **Класс `InMemoryTaskManager`:** Управляет созданием, удалением и обновлением задач, эпиков и подзадач. Хранит 
данные в `HashMap`. Поддерживает логику обновления статусов эпиков.

5. **Класс `InMemoryHistoryManager`:** Реализует управление историей просмотров задач на основе двусвязного списка 
и `HashMap`, обеспечивая оптимальное время выполнения операций.

6. **Интерфейс `TaskManager`:** Описывает методы для работы с задачами, эпиками и подзадачами.

7. **Интерфейс `HistoryManager`:** Описывает методы для работы с историей просмотров.

8. **Класс `Managers`:** Утилита для получения менеджеров задач и истории. Упрощает переключение между различными 
реализациями.

---

## Принципы ООП

- **Инкапсуляция:**  
  Все поля классов защищены, доступ к ним осуществляется через методы. Логика скрыта от пользователя.

- **Наследование:**  
  Общие методы и поля вынесены в базовый класс `Task`, от которого наследуются `Epic` и `SubTask`.

- **Полиморфизм:**  
  Методы в классах-наследниках переопределяют базовые методы, добавляя специфичные функции.

---

## Хранение задач

- Задачи, эпики и подзадачи хранятся в `HashMap`, где ключом является их уникальный идентификатор. Это обеспечивает 
быстрый доступ к данным, их обновление и удаление.
- История просмотров реализована на основе двусвязного списка с индексами в `HashMap`.

---

## Интерфейс

- В текущей реализации интерфейсы `TaskManager` и `HistoryManager` поддерживают гибкость программы, позволяя 
переключаться между различными реализациями менеджеров задач и истории.